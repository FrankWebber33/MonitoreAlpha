<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Perfil: Gestor</title>
        <link rel="stylesheet" href="../css/style.css">
        <!-- Adicionando Leaflet -->
        <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
        <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    </head>
<body>
    <!-- Adicionar aqui o perfil do usuario -->
    <body>
        <div class="container">
            <div class="profile-header">
                <svg class="notification-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
                    <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
                    <circle cx="18" cy="4" r="3" fill="#ff4444">
                    </circle>
                </svg>
                
                <div class="profile-content">
                    <div class="profile-img">
                        <img id="user-avatar" src="https://thispersondoesnotexist.com/" alt="Foto do aluno" class="user-avatar">
                    </div>
                    
                    <div class="profile-info">
                        <h2 id="user-name">Carregando...</h2>
                        <p class="profile-type">Tipo de Perfil: Gestor</p>
                        <div class="status-badge">Status: Ativo</div>
                    </div>
                </div>
                
                <div class="action-buttons">
                    <button class="btn btn-primary" onclick="window.location.href='https://example.com/historico'">
                        Estatísticas da Escola
                    </button>
                    <button class="btn btn-primary" onclick="window.location.href='https://example.com/horario'">
                        Gerenciar Professores
                    </button>
                </div>
            </div>
    
            <div class="mapa">
                <!-- Contêiner do mapa -->
                <div id="map" style="height: 400px; width: 100%;"></div>
            </div>
    
        <script>
            // Seleciona elementos do DOM
        const userNameElement = document.getElementById("user-name");
        const userAvatarElement = document.getElementById("user-avatar");

        // Função para obter dados da Random User API
        function fetchRandomUser() {
            fetch('https://randomuser.me/api/')
                .then(response => response.json()) // Converte a resposta para JSON
                .then(data => {
                    // Extrai os dados do usuário
                    const user = data.results[0];
                    const fullName = `${user.name.first} ${user.name.last}`;
                    const avatarUrl = user.picture.large;

                    // Atualiza o nome e a imagem no HTML
                    userNameElement.textContent = fullName;
                    userAvatarElement.src = avatarUrl;
                    userAvatarElement.alt = `Foto de ${fullName}`;
                })
                .catch(error => {
                    console.error("Erro ao carregar os dados do usuário:", error);
                    userNameElement.textContent = "Erro ao carregar nome";
                });
        }

        // Chama a função ao carregar a página
        window.onload = fetchRandomUser;
            </script>
            <script>
                // Inicializa o mapa ao carregar a página
            function initializeMap() {
    // Centraliza o mapa em Manaus, AM
    const map = L.map('map').setView([-3.0284634264788277, -59.92992532199579], 13);

    // Adiciona o tile layer do OpenStreetMap
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
    }).addTo(map);

    // Adiciona um marcador em Manaus
    L.marker([-3.0284634264788277, -59.92992532199579]).addTo(map)
        .bindPopup('Bem-vindo a Manaus, AM!')
        .openPopup();
}

// Chama a função para inicializar o mapa
window.onload = function() {
    fetchRandomUser(); // Carrega os dados do usuário
    initializeMap();   // Carrega o mapa
};

            </script>
</body>
</html>